<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
    <header>
        <%- include('../partials/header') %>  
    </header>
<body>
  <main>
    <h2>CONTACT US</h2>
    <form method="POST" action="/contact" class="contact-form" id="contactForm" onsubmit="return validateForm()">
      <label for="nameID">Name:</label>
      <input type="text" id="nameID" name="name" placeholder="Your Name" class="form-input" /><br />
      <label for="emailID">Email:</label>
      <input type="email" id="emailID" name="email" placeholder="Your Email" class="form-input" /><br />
      <label for="messageID">Message:</label>
      <textarea name="message" id="messageID" placeholder="Your Message" class="form-textarea"></textarea><br />
      <button type="submit" class="form-button" id="submitBtn">Send</button>
    </form>
    <script>
      function validateForm() {
        const name = document.getElementById('nameID').value.trim();
        const email = document.getElementById('emailID').value.trim();
        const message = document.getElementById('messageID').value.trim();

        // Name validation
        if (!name || name.length < 2) {
          alert('Name is required and must be at least 2 characters.');
          return false;
        }
        if (/^\d+$/.test(name)) {
          alert('Name cannot be only numbers.');
          return false;
        }

        // Email validation
        if (!email || !/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(email)) {
          alert('A valid email is required.');
          return false;
        }

        // Message validation
        if (!message || message.length < 5) {
          alert('Message must be at least 5 characters.');
          return false;
        }

        return true; // Allow form submission
      }

      // Enable/disable submit button based on input (optional)
      const form = document.getElementById('contactForm');
      const submitBtn = document.getElementById('submitBtn');
      form.addEventListener('input', function () {
        submitBtn.disabled = !form.checkValidity();
      });
      window.addEventListener('DOMContentLoaded', function () {
        submitBtn.disabled = !form.checkValidity();
      });
    </script>
  </main>
</body>
    <%- include('../partials/footer') %>
</html>